service: "booking"
routes:
  # Public routes (no auth)
  - path: "/api/v1/bookings/guest"
    methods: ["POST"]

  - path: "/api/v1/bookings/lookup"
    methods: ["GET"]

  - path: "/api/v1/bookings/:id"
    methods: ["GET"]

  - path: "/api/v1/bookings/:id/eticket"
    methods: ["GET"]

  - path: "/api/v1/seat-locks"
    methods: ["POST", "DELETE"]

  - path: "/api/v1/trips/:trip_id/locked-seats"
    methods: ["GET"]

  - path: "/api/v1/trips/:trip_id/reviews"
    methods: ["GET"]

  - path: "/api/v1/trips/:trip_id/reviews/summary"
    methods: ["GET"]

  # User routes (auth required)
  - path: "/api/v1/bookings"
    methods: ["GET", "POST"]
    auth:
      required: true

  - path: "/api/v1/bookings/:id/cancel"
    methods: ["POST"]
    auth:
      required: true

  - path: "/api/v1/bookings/:id/retry-payment"
    methods: ["POST"]
    auth:
      required: true

  - path: "/api/v1/bookings/user/:user_id"
    methods: ["GET"]
    auth:
      required: true

  - path: "/api/v1/bookings/:id/review"
    methods: ["GET", "POST"]
    auth:
      required: true

  - path: "/api/v1/reviews/:id"
    methods: ["PUT", "DELETE"]
    auth:
      required: true

  - path: "/api/v1/users/:user_id/reviews"
    methods: ["GET"]
    auth:
      required: true
      roles: ["admin"]

  - path: "/api/v1/bookings/:id/check-in"
    methods: ["POST"]
    auth:
      required: true
      roles: ["admin"]

  # Admin routes (auth + role required)
  - path: "/api/v1/bookings/trip/:trip_id"
    methods: ["GET"]
    auth:
      required: true
      roles: ["admin"]

  - path: "/api/v1/bookings/trip/:trip_id/passengers"
    methods: ["GET"]
    auth:
      required: true
      roles: ["admin"]

  - path: "/api/v1/statistics/bookings"
    methods: ["GET"]
    auth:
      required: true
      roles: ["admin"]

  - path: "/api/v1/statistics/popular-trips"
    methods: ["GET"]
    auth:
      required: true
      roles: ["admin"]

  - path: "/api/v1/reviews/:id/moderate"
    methods: ["PUT"]
    auth:
      required: true
      roles: ["admin"]
