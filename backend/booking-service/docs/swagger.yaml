definitions:
  bus-booking_booking-service_internal_model.BookingResponse:
    properties:
      booking_reference:
        type: string
      cancelled_at:
        type: string
      confirmed_at:
        type: string
      created_at:
        type: string
      expires_at:
        type: string
      id:
        type: string
      notes:
        type: string
      seats:
        description: Seats info
        items:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.BookingSeatResponse'
        type: array
      status:
        $ref: '#/definitions/bus-booking_booking-service_internal_model.BookingStatus'
      total_amount:
        type: integer
      transaction:
        $ref: '#/definitions/bus-booking_booking-service_internal_model_payment.TransactionResponse'
      transaction_id:
        type: string
      transaction_status:
        $ref: '#/definitions/bus-booking_booking-service_internal_model_payment.TransactionStatus'
      trip:
        allOf:
        - $ref: '#/definitions/bus-booking_booking-service_internal_model.TripBasicInfo'
        description: Trip info (populated for list views)
      trip_id:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  bus-booking_booking-service_internal_model.BookingSeatResponse:
    properties:
      floor:
        type: integer
      id:
        type: string
      price:
        type: number
      price_multiplier:
        type: number
      seat_id:
        type: string
      seat_number:
        type: string
      seat_type:
        type: string
    type: object
  bus-booking_booking-service_internal_model.BookingStatsResponse:
    properties:
      average_rating:
        type: number
      cancelled_bookings:
        type: integer
      completed_bookings:
        type: integer
      end_date:
        type: string
      start_date:
        type: string
      total_bookings:
        type: integer
      total_revenue:
        type: number
    type: object
  bus-booking_booking-service_internal_model.BookingStatus:
    enum:
    - PENDING
    - CONFIRMED
    - CANCELLED
    - EXPIRED
    - FAILED
    type: string
    x-enum-varnames:
    - BookingStatusPending
    - BookingStatusConfirmed
    - BookingStatusCancelled
    - BookingStatusExpired
    - BookingStatusFailed
  bus-booking_booking-service_internal_model.CancelBookingRequest:
    properties:
      reason:
        type: string
    required:
    - reason
    type: object
  bus-booking_booking-service_internal_model.CreateBookingRequest:
    properties:
      notes:
        type: string
      seat_ids:
        items:
          type: string
        maxItems: 10
        minItems: 1
        type: array
      trip_id:
        type: string
    required:
    - seat_ids
    - trip_id
    type: object
  bus-booking_booking-service_internal_model.CreateGuestBookingRequest:
    properties:
      email:
        type: string
      full_name:
        maxLength: 100
        minLength: 1
        type: string
      notes:
        type: string
      phone:
        maxLength: 15
        minLength: 10
        type: string
      seat_ids:
        items:
          type: string
        maxItems: 10
        minItems: 1
        type: array
      trip_id:
        type: string
    required:
    - full_name
    - seat_ids
    - trip_id
    type: object
  bus-booking_booking-service_internal_model.CreateReviewRequest:
    properties:
      booking_id:
        type: string
      comment:
        maxLength: 1000
        type: string
      rating:
        maximum: 5
        minimum: 1
        type: integer
    required:
    - booking_id
    - rating
    type: object
  bus-booking_booking-service_internal_model.InitSeatsRequest:
    properties:
      seats:
        items:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.SeatInitData'
        minItems: 1
        type: array
    required:
    - seats
    type: object
  bus-booking_booking-service_internal_model.LockSeatsRequest:
    properties:
      seat_ids:
        items:
          type: string
        maxItems: 10
        minItems: 1
        type: array
      session_id:
        type: string
      trip_id:
        type: string
    required:
    - seat_ids
    - session_id
    - trip_id
    type: object
  bus-booking_booking-service_internal_model.PaginatedBookingResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.BookingResponse'
        type: array
      page:
        type: integer
      page_size:
        type: integer
      total:
        type: integer
      total_pages:
        type: integer
    type: object
  bus-booking_booking-service_internal_model.ReleaseSeatRequest:
    properties:
      seat_id:
        type: string
      trip_id:
        type: string
    required:
    - seat_id
    - trip_id
    type: object
  bus-booking_booking-service_internal_model.ReserveSeatRequest:
    properties:
      reservation_minutes:
        type: integer
      seat_id:
        type: string
      trip_id:
        type: string
      user_id:
        type: string
    required:
    - seat_id
    - trip_id
    - user_id
    type: object
  bus-booking_booking-service_internal_model.ReviewResponse:
    properties:
      booking_id:
        type: string
      comment:
        type: string
      created_at:
        type: string
      id:
        type: string
      is_verified:
        type: boolean
      rating:
        type: integer
      status:
        $ref: '#/definitions/bus-booking_booking-service_internal_model.ReviewStatus'
      trip_id:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  bus-booking_booking-service_internal_model.ReviewStatus:
    enum:
    - active
    - hidden
    - flagged
    - removed
    type: string
    x-enum-varnames:
    - ReviewStatusActive
    - ReviewStatusHidden
    - ReviewStatusFlagged
    - ReviewStatusRemoved
  bus-booking_booking-service_internal_model.SeatAvailabilityResponse:
    properties:
      available_seats:
        items:
          type: string
        type: array
      booked_seats:
        items:
          type: string
        type: array
      reserved_seats:
        items:
          type: string
        type: array
      seat_details:
        additionalProperties:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.SeatStatus'
        type: object
      trip_id:
        type: string
    type: object
  bus-booking_booking-service_internal_model.SeatInitData:
    properties:
      seat_id:
        type: string
      seat_number:
        type: string
    required:
    - seat_id
    - seat_number
    type: object
  bus-booking_booking-service_internal_model.SeatStatus:
    properties:
      booking_id:
        type: string
      created_at:
        type: string
      id:
        type: string
      reserved_until:
        type: string
      seat_id:
        type: string
      seat_number:
        type: string
      status:
        type: string
      trip_id:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
    required:
    - seat_id
    - seat_number
    - trip_id
    type: object
  bus-booking_booking-service_internal_model.SeatStatusItem:
    properties:
      is_booked:
        type: boolean
      is_locked:
        type: boolean
      seat_id:
        type: string
    type: object
  bus-booking_booking-service_internal_model.TripBasicInfo:
    properties:
      bus_name:
        type: string
      departure_time:
        type: string
      destination:
        type: string
      origin:
        type: string
    type: object
  bus-booking_booking-service_internal_model.TripReviewSummary:
    properties:
      average_rating:
        type: number
      rating_1_count:
        type: integer
      rating_2_count:
        type: integer
      rating_3_count:
        type: integer
      rating_4_count:
        type: integer
      rating_5_count:
        type: integer
      total_reviews:
        type: integer
      trip_id:
        type: string
    type: object
  bus-booking_booking-service_internal_model.TripStatsResponse:
    properties:
      average_rating:
        type: number
      total_bookings:
        type: integer
      total_revenue:
        type: number
      trip_id:
        type: string
    type: object
  bus-booking_booking-service_internal_model.UnlockSeatsRequest:
    properties:
      session_id:
        type: string
    required:
    - session_id
    type: object
  bus-booking_booking-service_internal_model.UpdateBookingStatusRequest:
    properties:
      transaction_status:
        $ref: '#/definitions/bus-booking_booking-service_internal_model_payment.TransactionStatus'
    required:
    - transaction_status
    type: object
  bus-booking_booking-service_internal_model.UpdateReviewRequest:
    properties:
      comment:
        maxLength: 1000
        type: string
      rating:
        maximum: 5
        minimum: 1
        type: integer
    type: object
  bus-booking_booking-service_internal_model_payment.Currency:
    enum:
    - VND
    type: string
    x-enum-varnames:
    - CurrencyVND
  bus-booking_booking-service_internal_model_payment.PaymentMethod:
    enum:
    - PAYOS
    type: string
    x-enum-varnames:
    - PaymentMethodPayOS
  bus-booking_booking-service_internal_model_payment.TransactionResponse:
    properties:
      amount:
        type: integer
      booking_id:
        type: string
      checkout_url:
        type: string
      created_at:
        type: string
      currency:
        $ref: '#/definitions/bus-booking_booking-service_internal_model_payment.Currency'
      id:
        type: string
      order_code:
        type: integer
      payment_method:
        $ref: '#/definitions/bus-booking_booking-service_internal_model_payment.PaymentMethod'
      qr_code:
        type: string
      status:
        $ref: '#/definitions/bus-booking_booking-service_internal_model_payment.TransactionStatus'
      updated_at:
        type: string
    type: object
  bus-booking_booking-service_internal_model_payment.TransactionStatus:
    enum:
    - PENDING
    - CANCELLED
    - UNDERPAID
    - PAID
    - EXPIRED
    - PROCESSING
    - FAILED
    type: string
    x-enum-varnames:
    - TransactionStatusPending
    - TransactionStatusCancelled
    - TransactionStatusUnderpaid
    - TransactionStatusPaid
    - TransactionStatusExpired
    - TransactionStatusProcessing
    - TransactionStatusFailed
  ginext.ErrorBody:
    properties:
      message:
        type: string
    type: object
  ginext.MetaData:
    properties:
      page:
        type: integer
      page_size:
        type: integer
      total:
        type: integer
      total_pages:
        type: integer
    type: object
  ginext.Response:
    properties:
      code:
        type: integer
      data: {}
      error:
        $ref: '#/definitions/ginext.ErrorBody'
      header:
        $ref: '#/definitions/http.Header'
      message:
        type: string
      meta:
        $ref: '#/definitions/ginext.MetaData'
    type: object
  http.Header:
    additionalProperties:
      items:
        type: string
      type: array
    type: object
info:
  contact:
    email: support@busbooking.com
    name: API Support
  description: |-
    API for booking management in the bus booking system
    This service handles bookings, seat reservations, and feedback.
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  title: Booking Service API
  version: "1.0"
paths:
  /api/v1/admin/reviews/{id}/moderate:
    put:
      consumes:
      - application/json
      description: Change review status and add admin notes
      parameters:
      - description: Review ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Moderation request
        in: body
        name: request
        required: true
        schema:
          additionalProperties:
            type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ginext.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      security:
      - BearerAuth: []
      summary: Moderate review (Admin)
      tags:
      - admin-reviews
  /api/v1/bookings:
    get:
      description: List all bookings with pagination and filters (Admin only)
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: limit
        type: integer
      - description: Filter by status
        in: query
        name: status
        type: string
      - description: Start date (YYYY-MM-DD)
        in: query
        name: start_date
        type: string
      - description: End date (YYYY-MM-DD)
        in: query
        name: end_date
        type: string
      - default: created_at
        description: Sort field
        in: query
        name: sort_by
        type: string
      - default: desc
        description: Sort order
        in: query
        name: order
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.PaginatedBookingResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: List all bookings
      tags:
      - bookings
    post:
      consumes:
      - application/json
      description: Create a new booking with seat selection
      parameters:
      - description: Booking creation request
        in: body
        name: booking
        required: true
        schema:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.CreateBookingRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.BookingResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Create a new booking
      tags:
      - bookings
  /api/v1/bookings/{id}:
    get:
      description: Get a specific booking by its ID
      parameters:
      - description: Booking ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.BookingResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get booking by ID
      tags:
      - bookings
  /api/v1/bookings/{id}/cancel:
    post:
      consumes:
      - application/json
      description: Cancel a booking and release seats
      parameters:
      - description: Booking ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Cancellation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.CancelBookingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ginext.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Cancel a booking
      tags:
      - bookings
  /api/v1/bookings/{id}/eticket:
    get:
      description: Download e-ticket PDF for a confirmed booking
      parameters:
      - description: Booking ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/pdf
      responses:
        "200":
          description: PDF file
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Download e-ticket PDF
      tags:
      - bookings
  /api/v1/bookings/{id}/payment-status:
    put:
      consumes:
      - application/json
      description: Update booking payment status (internal use by payment service)
      parameters:
      - description: Booking ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Payment status update
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.UpdateBookingStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ginext.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Update booking payment status
      tags:
      - bookings
  /api/v1/bookings/{id}/retry-payment:
    post:
      consumes:
      - application/json
      description: Create a new payment link for a failed or expired booking
      parameters:
      - description: Booking ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.BookingResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Retry payment for a booking
      tags:
      - bookings
  /api/v1/bookings/{id}/review:
    get:
      description: Get review for a specific booking
      parameters:
      - description: Booking ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.ReviewResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get booking review
      tags:
      - reviews
    post:
      consumes:
      - application/json
      description: Create review for a confirmed booking
      parameters:
      - description: Booking ID
        format: uuid
        in: path
        name: booking_id
        required: true
        type: string
      - description: Review creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.CreateReviewRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.ReviewResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      security:
      - BearerAuth: []
      summary: Create review
      tags:
      - reviews
  /api/v1/bookings/guest:
    post:
      consumes:
      - application/json
      description: Create a booking without authentication for guest users
      parameters:
      - description: Guest booking creation request
        in: body
        name: booking
        required: true
        schema:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.CreateGuestBookingRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.BookingResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Create a guest booking
      tags:
      - bookings
  /api/v1/bookings/lookup:
    get:
      description: Get booking details using booking reference number (for guest lookup)
      parameters:
      - description: Booking reference number
        in: query
        name: reference
        required: true
        type: string
      - description: Email for verification
        in: query
        name: email
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.BookingResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get booking by reference number
      tags:
      - bookings
  /api/v1/bookings/trip/{trip_id}:
    get:
      description: Get all bookings for a specific trip with pagination
      parameters:
      - description: Trip ID
        format: uuid
        in: path
        name: trip_id
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.PaginatedBookingResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get trip bookings
      tags:
      - bookings
  /api/v1/bookings/trips/{trip_id}/seats/status:
    get:
      consumes:
      - application/json
      description: Get booking status of seats for a specific trip
      parameters:
      - description: Trip ID
        format: uuid
        in: path
        name: trip_id
        required: true
        type: string
      - collectionFormat: multi
        description: Seat IDs
        in: query
        items:
          type: string
        name: seat_ids
        required: true
        type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/bus-booking_booking-service_internal_model.SeatStatusItem'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get seat status for a trip
      tags:
      - bookings
  /api/v1/bookings/user/{user_id}:
    get:
      description: Get all bookings for a specific user with pagination
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: user_id
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.PaginatedBookingResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get user bookings
      tags:
      - bookings
  /api/v1/reviews/{id}:
    delete:
      description: Delete user's own review
      parameters:
      - description: Review ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
          schema:
            $ref: '#/definitions/ginext.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      security:
      - BearerAuth: []
      summary: Delete review
      tags:
      - reviews
    put:
      consumes:
      - application/json
      description: Update user's own review
      parameters:
      - description: Review ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.UpdateReviewRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.ReviewResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      security:
      - BearerAuth: []
      summary: Update review
      tags:
      - reviews
  /api/v1/seat-locks:
    delete:
      consumes:
      - application/json
      description: Release locked seats for a session
      parameters:
      - description: Unlock data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.UnlockSeatsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Seats unlocked successfully
          schema:
            $ref: '#/definitions/ginext.Response'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Unlock seats
      tags:
      - seat-locks
    post:
      consumes:
      - application/json
      description: Lock selected seats for 5 minutes during booking process
      parameters:
      - description: Seat lock data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.LockSeatsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Seats locked successfully
          schema:
            $ref: '#/definitions/ginext.Response'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/ginext.Response'
        "409":
          description: Seats already locked
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Lock seats temporarily
      tags:
      - seat-locks
  /api/v1/seats/release:
    post:
      consumes:
      - application/json
      description: Release a reserved seat back to available status
      parameters:
      - description: Seat release request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.ReleaseSeatRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ginext.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Release a reserved seat
      tags:
      - seats
  /api/v1/seats/reserve:
    post:
      consumes:
      - application/json
      description: Reserve a seat for a user temporarily
      parameters:
      - description: Seat reservation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.ReserveSeatRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ginext.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Reserve a seat
      tags:
      - seats
  /api/v1/statistics/bookings:
    get:
      description: Get booking statistics for a date range
      parameters:
      - description: Start date (YYYY-MM-DD)
        in: query
        name: start_date
        required: true
        type: string
      - description: End date (YYYY-MM-DD)
        in: query
        name: end_date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.BookingStatsResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get booking statistics
      tags:
      - statistics
  /api/v1/statistics/popular-trips:
    get:
      description: Get popular trips based on booking statistics
      parameters:
      - default: 10
        description: Number of trips to return
        in: query
        name: limit
        type: integer
      - default: 30
        description: Number of days to look back
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/bus-booking_booking-service_internal_model.TripStatsResponse'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get popular trips
      tags:
      - statistics
  /api/v1/trips/{trip_id}/locked-seats:
    get:
      consumes:
      - application/json
      description: Get list of locked seats for a trip
      parameters:
      - description: Trip ID
        format: uuid
        in: path
        name: trip_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Locked seat IDs
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  items:
                    type: string
                  type: array
              type: object
        "400":
          description: Invalid trip ID
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get locked seats
      tags:
      - seat-locks
  /api/v1/trips/{trip_id}/reviews:
    get:
      description: Get all reviews for a trip
      parameters:
      - description: Trip ID
        format: uuid
        in: path
        name: trip_id
        required: true
        type: string
      - description: Trip Instance ID
        format: uuid
        in: query
        name: trip_instance_id
        type: string
      - description: Minimum rating
        in: query
        maximum: 5
        minimum: 1
        name: min_rating
        type: integer
      - description: Review status
        in: query
        name: status
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Page size
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/bus-booking_booking-service_internal_model.ReviewResponse'
                  type: array
                meta:
                  $ref: '#/definitions/ginext.MetaData'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get trip reviews
      tags:
      - reviews
  /api/v1/trips/{trip_id}/reviews/summary:
    get:
      description: Get aggregated review statistics for a trip
      parameters:
      - description: Trip ID
        format: uuid
        in: path
        name: trip_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  $ref: '#/definitions/bus-booking_booking-service_internal_model.TripReviewSummary'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get trip review summary
      tags:
      - reviews
  /api/v1/trips/{trip_id}/seats:
    get:
      consumes:
      - application/json
      description: Get all seats and their statuses for a specific trip
      parameters:
      - description: Trip ID
        format: uuid
        in: path
        name: trip_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/bus-booking_booking-service_internal_model.SeatStatus'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get seat availability for a trip
      tags:
      - seat-status
  /api/v1/trips/{trip_id}/seats/init:
    post:
      consumes:
      - application/json
      description: Called by Trip Service when a new trip is created
      parameters:
      - description: Trip ID
        format: uuid
        in: path
        name: trip_id
        required: true
        type: string
      - description: Seat initialization data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/bus-booking_booking-service_internal_model.InitSeatsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/ginext.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Initialize seat statuses for a trip
      tags:
      - seat-status
  /api/v1/users/{user_id}/reviews:
    get:
      description: Get all reviews by a user
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: user_id
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Page size
        in: query
        name: page_size
        type: integer
      - description: Review status
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/ginext.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/bus-booking_booking-service_internal_model.ReviewResponse'
                  type: array
                meta:
                  $ref: '#/definitions/ginext.MetaData'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/ginext.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ginext.Response'
      summary: Get user reviews
      tags:
      - reviews
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
